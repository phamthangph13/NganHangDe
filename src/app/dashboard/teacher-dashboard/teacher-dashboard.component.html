<div class="dashboard-greeting">
  <h1>Xin chÃ o, {{ currentUser?.name }}</h1>
  <p>ChÃ o má»«ng trá»Ÿ láº¡i vá»›i NgÃ¢n HÃ ng Äá» Thi</p>
</div>

<div class="dashboard-stats">
  <div class="stat-card">
    <div class="stat-icon">ğŸ“š</div>
    <div class="stat-content">
      <h3>{{ totalExams }}</h3>
      <p>Äá» thi</p>
    </div>
  </div>
  <div class="stat-card">
    <div class="stat-icon">ğŸ‘¨â€ğŸ“</div>
    <div class="stat-content">
      <h3>{{ totalStudents }}</h3>
      <p>Há»c sinh</p>
    </div>
  </div>
  <div class="stat-card">
    <div class="stat-icon">ğŸ†</div>
    <div class="stat-content">
      <h3>{{ avgScore | number:'1.1-1' }}</h3>
      <p>Äiá»ƒm trung bÃ¬nh</p>
    </div>
  </div>
</div>

<div class="dashboard-sections">
  <div class="dashboard-section">
    <div class="section-header">
      <h2>Äá» thi gáº§n Ä‘Ã¢y</h2>
      <a class="view-all">Xem táº¥t cáº£</a>
    </div>
    <div class="exam-list" *ngIf="recentExams.length > 0; else noExams">
      <div class="exam-card" *ngFor="let exam of recentExams">
        <div class="exam-status" [ngClass]="exam.status">
          <span *ngIf="exam.status === 'published'">ÄÃ£ xuáº¥t báº£n</span>
          <span *ngIf="exam.status === 'draft'">Báº£n nhÃ¡p</span>
          <span *ngIf="exam.status === 'closed'">ÄÃ£ káº¿t thÃºc</span>
        </div>
        <div class="exam-header">
          <h3>{{ exam.title }}</h3>
          <span class="exam-subject">{{ exam.subject }}</span>
        </div>
        <div class="exam-details">
          <div class="exam-detail">
            <span class="detail-label">Sá»‘ cÃ¢u há»i:</span>
            <span class="detail-value">{{ exam.questions }}</span>
          </div>
          <div class="exam-detail">
            <span class="detail-label">Thá»i gian:</span>
            <span class="detail-value">{{ exam.duration }} phÃºt</span>
          </div>
          <div class="exam-detail">
            <span class="detail-label">NgÃ y xuáº¥t báº£n:</span>
            <span class="detail-value">{{ exam.publishDate | date:'dd/MM/yyyy' }}</span>
          </div>
          <div class="exam-detail" *ngIf="exam.attempts !== undefined">
            <span class="detail-label">LÆ°á»£t lÃ m bÃ i:</span>
            <span class="detail-value">{{ exam.attempts }}</span>
          </div>
          <div class="exam-detail" *ngIf="exam.avgScore !== undefined">
            <span class="detail-label">Äiá»ƒm trung bÃ¬nh:</span>
            <span class="detail-value">{{ exam.avgScore }}</span>
          </div>
        </div>
        <div class="exam-actions">
          <button class="btn btn-primary" *ngIf="exam.status === 'draft'">Chá»‰nh sá»­a</button>
          <button class="btn btn-primary" *ngIf="exam.status === 'published'">Xem káº¿t quáº£</button>
          <button class="btn btn-secondary" *ngIf="exam.status === 'closed'">Xem chi tiáº¿t</button>
        </div>
      </div>
    </div>
    <ng-template #noExams>
      <div class="empty-state">
        <div class="empty-icon">ğŸ“</div>
        <p>ChÆ°a cÃ³ Ä‘á» thi nÃ o</p>
      </div>
    </ng-template>
  </div>
  
  <div class="dashboard-section">
    <div class="section-header">
      <h2>Há»c sinh xuáº¥t sáº¯c</h2>
      <a class="view-all">Xem táº¥t cáº£</a>
    </div>
    <div class="student-list" *ngIf="topStudents.length > 0; else noStudents">
      <div class="student-card" *ngFor="let student of topStudents">
        <div class="student-info">
          <div class="student-avatar">{{ student.name.charAt(0) }}</div>
          <div class="student-details">
            <h3>{{ student.name }}</h3>
            <p class="student-grade">Lá»›p {{ student.grade }}</p>
          </div>
        </div>
        <div class="student-stats">
          <div class="student-stat">
            <span class="stat-label">Äá» Ä‘Ã£ lÃ m</span>
            <span class="stat-value">{{ student.examsCompleted }}</span>
          </div>
          <div class="student-stat">
            <span class="stat-label">Äiá»ƒm TB</span>
            <span class="stat-value">{{ student.avgScore }}</span>
          </div>
        </div>
      </div>
    </div>
    <ng-template #noStudents>
      <div class="empty-state">
        <div class="empty-icon">ğŸ‘¨â€ğŸ“</div>
        <p>ChÆ°a cÃ³ dá»¯ liá»‡u há»c sinh</p>
      </div>
    </ng-template>
  </div>
</div>
